maximi=(1:15);
for m=1:15
n=1e4;
x=(0:n)/n;
% y = sin(pi*x.^2) + (1e-1)*rand(size(x));
f=sin(pi*x.^2);
%for testing
y = f + (1e-1)*7;


p=polyfit(x,y,m);
px=polyval(p,x);
max_error=max(abs(f-px));

plot(x,abs(f-px),'r',x,px,'g',x,f,'b')
end